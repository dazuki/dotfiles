# ===== WINDOW =====
autofit-larger=88%x88%
keep-open=yes

# ===== OUTPUT =====
vo=gpu-next
gpu-api=vulkan
profile=gpu-hq

# ===== SCALING =====
# Optimized for Anime4K - let the shaders do the heavy lifting
scale=spline36
cscale=spline36
dscale=mitchell
correct-downscaling=yes
linear-downscaling=yes
# Note: sigmoid-upscaling disabled - can conflict with Anime4K
# sigmoid-upscaling=yes

# ===== ANIME4K SHADERS - MEDIUM QUALITY =====
# Recommended preset from Anime4K for 1080p->1440p/4K upscaling
glsl-shaders="~~/shaders/Anime4K_Clamp_Highlights.glsl:~~/shaders/Anime4K_Restore_CNN_VL.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_VL.glsl:~~/shaders/Anime4K_AutoDownscalePre_x2.glsl:~~/shaders/Anime4K_AutoDownscalePre_x4.glsl:~~/shaders/Anime4K_Upscale_CNN_x2_M.glsl"

# ===== ENHANCEMENT =====
# Debanding - reduces color banding artifacts
deband=yes
deband-iterations=4
deband-threshold=35
deband-range=16
deband-grain=5

# Dithering - smoother color gradients
temporal-dither=yes

# Color management - only enable if you have a calibrated monitor
# icc-profile-auto=yes

# HDR - only needed if you watch HDR content
# hdr-compute-peak=yes
# tone-mapping=bt.2390
# tone-mapping-mode=hybrid

# ===== OSD (ON-SCREEN DISPLAY) =====
osd-level=1
osd-duration=2500
osd-font-size=32

# ===== PLAYBACK =====
# Save and resume position
save-position-on-quit=yes
watch-later-directory=~/.config/mpv/watch_later
resume-playback=yes

# ===== CACHE =====
cache=yes
demuxer-max-bytes=512M
demuxer-max-back-bytes=256M

# ===== AUDIO =====
audio-channels=stereo
volume=100
volume-max=150

# ===== SUBTITLES =====
sub-auto=fuzzy
sub-file-paths=ass:srt:sub:subs:subtitles

# ===== SCREENSHOTS =====
screenshot-format=png
screenshot-png-compression=7
screenshot-directory=~/Pictures/mpv-screenshots
screenshot-template="%F-%P"

# ===== OPTIONAL: MOTION INTERPOLATION =====
# Uncomment for smoother 24fps->60fps playback (GPU intensive!)
# video-sync=display-resample
# interpolation=yes
# tscale=oversample
